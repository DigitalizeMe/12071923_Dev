@prefix sh:    <http://www.w3.org/ns/shacl#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix occp:  <http://www.semanticweb.org/albrechtvaatz/ontologies/2022/9/cMod_V0.1#> .
@prefix time:  <http://www.w3.org/2006/time#> .
@prefix osh:   <http://www.occpshape.de/shape#> .

### ORDER OF INSTANTS

    ### PHASE A INSTANTS
        # PHASE ASSIGNMENT

            osh:PhaseAInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseA_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseA_Planning ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase A Instant must belong to exactly one Phase A (Planning)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE A - PLANNING

            osh:BeginningOfPlanningShape a sh:NodeShape ;   # Instant Beginning Of Planning (Phase A - Planning)
                sh:targetClass occp:BeginningOfPlanning ;   
                sh:property [                               # Instant (Beginning Of Planning) starts a new Phase A (Planning).
                    sh:path occp:startsPhase ;              
                    sh:class occp:PhaseA_Planning ;
                    sh:maxCount 1 ;
                    sh:minCount 1 ;
                    sh:message "BeginningOfPlanning must start exactly one Phase A (Planning)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                               # Instant's chronological order within the Phase
                    sh:path occp:before ;                   
                    sh:class occp:DataProcurement ;
                    sh:message "Wrong chronological order: BeginningOfPlanning must occur before DataProcurement."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:SubmissionToReview ;
                    sh:message "Wrong chronological order: BeginningOfPlanning should occur before SubmissionToReview."@en ;
                    sh:severity sh:Warning ;
                ] .

            osh:DataProcurementShape a sh:NodeShape ;       # Instant Data Procurement (Phase A - Planning)
                sh:targetClass occp:DataProcurement ;       
                sh:property [                               # Instant's chronological order within the Phase
                    sh:path occp:after ;                    
                    sh:class occp:BeginningOfPlanning ;
                    sh:message "Wrong chronological order: DataProcurement must occur after BeginningOfPlanning."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                               # Instant's chronological order within the Phase
                    sh:path occp:before ;                   
                    sh:class occp:SubmissionToReview ;
                    sh:message "Wrong chronological order: DataProcurement should occur before SubmissionToReview."@en ;
                    sh:severity sh:Warning ;
                ] .

            osh:Edit_BSTRShape a sh:NodeShape ;             # Instant Edit Before Submission To Review (Phase A - Planning)
                sh:targetClass occp:Edit_BSTR ; 
                sh:property [                               # Instant's chronological order within the Phase
                    sh:path occp:after ;                    
                    sh:class occp:BeginningOfPlanning ;
                    sh:message "Wrong chronological order: Edit Before Submission To Review must occur after Beginning Of Planning."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                               # Instant's chronological order within the Phase
                    sh:path occp:before ;                   
                    sh:class occp:SubmissionToReview ;
                    sh:message "Wrong chronological order: Edit Before Submission To Review must occur before Submission To Review."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:SubmissionToReviewShape a sh:NodeShape ;    # Instant Submission To Review (Phase A - Planning)
                sh:targetClass occp:SubmissionToReview ;
                    sh:property [                           # Instant's chronological order within the Phase - 2 Options
                    sh:path occp:after ;
                    sh:or (
                        [ sh:class occp:Edit_BSTR ]
                        [ sh:class occp:Edit_ASTR ]
                    ) ;
                    sh:message "Wrong assignment (chronological order) of Submission To Review or Edit Before/After Submission To Review."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:startsCycle ;
                    sh:class occp:CycleA_PlanningReview ;
                    sh:maxCount 1 ;
                    sh:message "SubmissionToReview can start at most one Cycle A (Planning/Review)."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:Edit_ASTRShape a sh:NodeShape ;             # Instant Edit After Submission To Review (Phase A - Planning)
                sh:targetClass occp:Edit_ASTR ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:SubmissionToReview ;
                    sh:message "Edit_ASTR must occur after SubmissionToReview."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:CompletionOfPlanning ;
                    sh:message "Edit_ASTR should occur before CompletionOfPlanning."@en ;
                    sh:severity sh:Warning ;
                ] .

    ### PHASE B INSTANTS
        # PHASE ASSIGNMENT        
    
            osh:PhaseBInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseB_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseB_Review ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase B Instant must belong to exactly one Phase B (Review)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE B - REVIEW

            osh:ReviewStartShape a sh:NodeShape ;           # Instant Review Start (Phase B - Review)
                sh:targetClass occp:ReviewStart ;
                sh:property [
                    sh:path occp:startsPhase ;
                    sh:class occp:PhaseB_Review ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Review Start must start exactly one Phase B (Review)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:or (                                     # Instant's chronological order within the Phase - 2 Options
                    [
                        sh:path occp:before ;
                        sh:class occp:ReviewApproval ;
                        sh:message "Wrong assignment (chronological order) of Review Start or Review Approval."@en ;
                        sh:severity sh:Violation ;
                    ]
                    [
                        sh:path occp:before ;
                        sh:class occp:ReviewRejection ;
                        sh:message "Wrong assignment (chronological order) of Review Start or Review Rejection."@en ;
                        sh:severity sh:Violation ;
                    ]
                ) ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:SubmissionToReview ;
                    sh:message "Review Start must occur after Submissio To Review."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:ReviewApprovalShape a sh:NodeShape ;        # Instant Review Approval (Phase B - Review)
                sh:targetClass occp:ReviewApproval ;
                sh:property [
                    sh:path occp:endsPhase ;
                    sh:class occp:PhaseA_Planning ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Review Approval must end exactly one Phase A (Planning)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:endsPhase ;
                    sh:class occp:PhaseB_Review ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Review Approval must end exactly one Phase B (Review)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                               # Instant's chronological order within the Phase
                    sh:path occp:after ;
                    sh:class occp:ReviewStart ;
                    sh:message "Wrong assignment (chronological order) of Review Approval or Review Start."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                               # Instant (Review Approval) ends current Cycle A (Planning/Review).
                    sh:path occp:endsCycle ;              
                    sh:class occp:CycleA_PlanningReview ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Review Approval must end exactly one Cycle A (Planning/Review)."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:ReviewRejectionShape a sh:NodeShape ;        # Instant Review Rejection (Phase B - Review)
                sh:targetClass occp:ReviewRejection ;
                sh:property [                                # Instant's chronological order within the Phase      
                    sh:path occp:after ;
                    sh:class occp:ReviewStart ;
                    sh:message "Wrong assignment (chronological order) of Review Rejection or Review Start."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:endsCycle ;
                    sh:class occp:CycleA_PlanningReview ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Review Rejection must end exactly one Cycle A (Planning/Review)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:startsCycle ;
                    sh:class occp:CycleA_PlanningReview ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Review Rejection must start exactly one new Cycle A (Planning/Review)."@en ;
                    sh:severity sh:Violation ;
                ] .


    ### PHASE C INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseCInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseC_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseC_Construction ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase C Instant must belong to exactly one Phase C (Construction)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE C - CONSTRUCTION

            osh:ConstructionStartShape a sh:NodeShape ;      # Instant Construction Start (Phase C - Construction)
                sh:targetClass occp:ConstructionStart ;
                sh:property [
                    sh:path occp:startsPhase ;
                    sh:class occp:PhaseC_Construction ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "ConstructionStart must start exactly one Phase C (Construction)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order within the Phase
                    sh:path occp:before ;
                    sh:class occp:ConstructionCompletion ;
                    sh:message "Wrong assignment (chronological order) of Construction Start or Construction Completion."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:Submission ;
                    sh:message "Construction Start must occur after Submission."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:ConstructionCompletionShape a sh:NodeShape ; # Instant Construction Completion (Phase C - Construction)
                sh:targetClass occp:ConstructionCompletion ;
                sh:property [                                # Instant's chronological order within the Phase
                    sh:path occp:after ;
                    sh:class occp:ConstructionStart ;
                    sh:message "Wrong assignment (chronological order) of Construction Completion or Construction Start."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:or (                                     # Instant's chronological order within the Phase - 2 Options
                    [
                        sh:path occp:before ;
                        sh:class occp:ConstructionAcceptance ;
                        sh:message "Wrong assignment (chronological order) of Construction Completion or Construction Acceptance."@en ;
                        sh:severity sh:Violation ;
                    ]
                    [
                        sh:path occp:before ;
                        sh:class occp:DefectElimStart ;
                        sh:message "Wrong assignment (chronological order) of Construction Completion or Defect Elimination Start."@en ;
                        sh:severity sh:Violation ;
                    ]
                ) .

            osh:DefectElimStartShape a sh:NodeShape ;        # Instant Defect Elimination Start (Phase C - Construction)
                sh:targetClass occp:DefectElimStart ;
                sh:property [                                # Instant's chronological order within the Phase
                    sh:path occp:after ;
                    sh:class occp:ConstructionCompletion ;
                    sh:message "Wrong assignment (chronological order) of Defect Elimination Start or Construction Completion."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DefectElimCompletion ;
                    sh:message "Wrong assignment (chronological order) of Defect Elimination Start or Defect Elimination Completion."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:DefectElimCompletionShape a sh:NodeShape ;        # Instant Defect Elimination Completion (Phase C - Construction)
                sh:targetClass occp:DefectElimCompletion ;
                sh:property [                                # Instant's chronological order within the Phase
                    sh:path occp:after ;
                    sh:class occp:DefectElimStart ;
                    sh:message "Wrong assignment (chronological order) of Defect Elimination Completion or Defect Elimination Start."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "Wrong assignment (chronological order) of Defect Elimination Completion or Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:ConstructionAcceptanceShape a sh:NodeShape ;      # Instant Construction Acceptance (Phase C - Construction)
                sh:targetClass occp:ConstructionAcceptance ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:before ;
                    sh:class occp:UsageStart ;
                    sh:message "Wrong assignment (chronological order) of Construction Acceptance or Usage Start."@en ;
                    sh:severity sh:Warning ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:CompletionOfConstruction ;
                    sh:message "Wrong assignment (chronological order) of Construction Acceptance or Completion of Construction (Transition)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:or (                                     # Instant's chronological order within the Phase - 2 Options
                    [
                        sh:path occp:after ;
                        sh:class occp:ConstructionCompletion ;
                        sh:message "Wrong assignment (chronological order) of Construction Acceptance or Construction Completion."@en ;
                        sh:severity sh:Violation ;
                    ]
                    [
                        sh:path occp:after ;
                        sh:class occp:DefectElimCompletion ;
                        sh:message "Wrong assignment (chronological order) of Construction Acceptance or Defect Elimination Completion."@en ;
                        sh:severity sh:Violation ;
                    ]
                ) .

    ### PHASE D INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseDInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseD_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseD_Usage ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase D Instant must belong to exactly one Phase D (Usage)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE D - USAGE
            
            osh:UsageStartShape a sh:NodeShape ;      # Instant Usage Start (Phase D - Usage)
                sh:targetClass occp:UsageStart ;
                sh:property [                                # A new Usage Phase is started with Usage Start
                    sh:path occp:startsPhase ;                
                    sh:class occp:PhaseD_Usage ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "UsageStart must start exactly one Phase D (Usage)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order 
                        sh:path occp:after ;
                        sh:class occp:ConstructionAcceptance ;
                        sh:message "UsageStart must occur after Completion of Construction."@en ;
                        sh:severity sh:Violation ;;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:UsageEnd ;
                    sh:message "UsageStart must occur before UsageEnd."@en ;
                    sh:severity sh:Violation ;
                ] .
            
            osh:UsageChangeShape a sh:NodeShape ;      # Instant Usage Change (Phase D - Usage)
                sh:targetClass occp:UsageChange ;
                sh:property [                                # The current Usage Phase is ended with a Change of Usage. 
                    sh:path occp:endsPhase ;                
                    sh:class occp:PhaseD_Usage ;
                    sh:minCount 1 ;
                    sh:message "UsageStart must end at least one Phase D (Usage)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # A new Usage Phase is started with a Change of Usage.
                    sh:path occp:startsPhase ;
                    sh:class occp:PhaseD_Usage ;
                    sh:minCount 1 ;
                    sh:message "UsageStart must start at least one Phase D (Usage)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:CompletionOfConstruction ;
                    sh:message "UsageChange must occur after Completion of Construction."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order within the Phase
                    sh:path occp:after ;
                    sh:class occp:UsageStart ;
                    sh:message "Wrong assignment (chronological order) of Change of Usage or Usage Start."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                
                    sh:path occp:before ;
                    sh:class occp:UsageEnd ;
                    sh:message "UsageChange must occur before UsageEnd."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "UsageChange must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:UsageEndShape a sh:NodeShape ;      # Instant Usage End (Phase D - Usage)
                sh:targetClass occp:UsageEnd ;
                sh:property [
                    sh:path occp:endsPhase ;
                    sh:class occp:PhaseD_Usage ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "UsageEnd must end exactly one Phase D (Usage)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:or (                                     # Instant's chronological order within the Phase - 2 Options
                    [
                        sh:path occp:after ;
                        sh:class occp:UsageStart ;
                        sh:message "UsageEnd must occur after UsageStart."@en ;
                        sh:severity sh:Violation ;
                    ]
                    [
                        sh:path occp:after ;
                        sh:class occp:UsageChange ;
                        sh:message "UsageEnd must occur after UsageChange."@en ;
                        sh:severity sh:Violation ;
                    ]
                ) ;
                sh:property [                                
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "UsageEnd must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

    ### PHASE E INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseEInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseE_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseE_Warranty ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase E Instant must belong to exactly one Phase E (Warranty)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE E - WARRANTY
            osh:WarrantyStartShape a sh:NodeShape ;          # Instant Warranty Start (Phase E - Warranty)
                sh:targetClass occp:WarrantyStart ;
                sh:property [                                # A new Warranty Phase is started with Warranty Start
                    sh:path occp:startsPhase ;                
                    sh:class occp:PhaseE_Warranty ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "WarrantyStart must start exactly one Phase E (Warranty)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "Wrong assignment (chronological order) of Warranty Start or Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                
                    sh:path occp:before ;
                    sh:class occp:WarrantyEnd ;
                    sh:message "WarrantyStart must occur before WarrantyEnd."@en ;
                    sh:severity sh:Violation ;
                ] .


            osh:WarrantyChangeShape a sh:NodeShape ;         # Instant Warranty Change (Phase E - Warranty)
                sh:targetClass occp:WarrantyChange ;
                sh:property [                                # The current Warranty Phase is ended with a Change of Warranty. 
                    sh:path occp:endsPhase ;                
                    sh:class occp:PhaseE_Warranty ;
                    sh:minCount 1 ;
                    sh:message "WarrantyChange must end at least one Phase E (Warranty)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # A new Warranty Phase is started with a Change of Warranty.
                    sh:path occp:startsPhase ;
                    sh:class occp:PhaseE_Warranty ;
                    sh:minCount 1 ;
                    sh:message "WarrantyChange must start at least one Phase E (Warranty)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:CompletionOfConstruction ;
                    sh:message "WarrantyChange must occur after Completion of Construction."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:WarrantyStart ;
                    sh:message "WarrantyChange must occur after WarrantyStart."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:WarrantyEnd ;
                    sh:message "WarrantyChange must occur before WarrantyEnd."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "WarrantyChange must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .
                

            osh:WarrantyEndShape a sh:NodeShape ;            # Instant Warranty End (Phase E - Warranty)
                sh:targetClass occp:WarrantyEnd ;
                sh:property [                                # The current Warranty Phase is ended with Warranty End
                    sh:path occp:endsPhase ;                
                    sh:class occp:PhaseE_Warranty ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "WarrantyEnd must end exactly one Phase E (Warranty)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:or (                                     # Instant's chronological order within the Phase - 2 Options
                    [
                        sh:path occp:after ;
                        sh:class occp:WarrantyStart ;
                        sh:message "Wrong assignment (chronological order) of Warranty End or Warranty Start."@en ;
                        sh:severity sh:Violation ;
                    ]
                    [
                        sh:path occp:after ;
                        sh:class occp:WarrantyChange ;
                        sh:message "Wrong assignment (chronological order) of Warranty End or Warranty Change."@en ;
                        sh:severity sh:Violation ;
                    ]
                ) ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "WarrantyEnd must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

    ### PHASE F INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseFInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseF_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseF_DesignLife ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase F Instant must belong to exactly one Phase F (Design Life)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE F - DESIGN LIFE
            osh:DesignLifeStartShape a sh:NodeShape ;        # Instant Design Life Start (Phase F - Design Life)
                sh:targetClass occp:DesignLifeEnd ;
                sh:property [                                # A new Design Life Phase is started with Design Life Start
                    sh:path occp:startsPhase ;                
                    sh:class occp:PhaseF_DesignLife ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "DesignLifeStart must start exactly one Phase F (Design Life)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "DesignLifeStart must occur after Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "DesignLifeStart must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DesignLifeEnd ;
                    sh:message "DesignLifeStart must occur before DesignLifeEnd."@en ;
                    sh:severity sh:Violation ;
                ] .
         
            osh:DesignLifeChangeShape a sh:NodeShape ;       # Instant Design Life Change (Phase F - Design Life)
                sh:targetClass occp:DesignLifeChange ;
                sh:property [                                # The current Design Life Phase is ended with a Change of Design Life. 
                    sh:path occp:endsPhase ;
                    sh:class occp:PhaseF_DesignLife ;
                    sh:minCount 1 ;
                    sh:message "DesignLifeChange must end at least one Phase F (Design Life)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # A new Design Life Phase is started with a Change of Design Life.
                    sh:path occp:startsPhase ;
                    sh:class occp:PhaseF_DesignLife ;
                    sh:minCount 1 ;
                    sh:message "DesignLifeChange must start at least one Phase F (Design Life)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "Wrong assignment (chronological order) of Change of Design Life or Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order within the Phase
                    sh:path occp:after ;
                    sh:class occp:DesignLifeStart ;
                    sh:message "Wrong assignment (chronological order) of Change of Design Life or Design Life Start."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DesignLifeEnd ;
                    sh:message "DesignLifeChange must occur before DesignLifeEnd."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "DesignLifeChange must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:DesignLifeEndShape a sh:NodeShape ;          # Instant Design Life End (Phase F - Design Life)
                sh:targetClass occp:DesignLifeEnd ;
                sh:property [                                # The current Design Life Phase is ended with Design Life End
                    sh:path occp:endsPhase ;
                    sh:class occp:PhaseF_DesignLife ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "DesignLifeEnd must end exactly one Phase F (Design Life)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:or (                                     # Instant's chronological order within the Phase - 2 Options
                    [
                        sh:path occp:after ;
                        sh:class occp:DesignLifeStart ;
                        sh:message "Wrong assignment (chronological order) of Design Life End or Design Life Start."@en ;
                        sh:severity sh:Violation ;
                    ]
                    [
                        sh:path occp:after ;
                        sh:class occp:DesignLifeChange ;
                        sh:message "Wrong assignment (chronological order) of Design Life End or Design Life Change."@en ;
                        sh:severity sh:Violation ;
                    ]
                ) ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "DesignLifeEnd must occur after Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "DesignLifeEnd must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .


    ### PHASE G INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseGInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseG_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseG_Inspection ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase G Instant must belong to exactly one Phase G (Inspection)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE G - INSPECTION
            osh:InspectionExecutionShape a sh:NodeShape ;    # Instant Inspection Execution (Phase G - Inspection)
                sh:targetClass occp:InspectionExecution ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:ConstructionStart ;
                    sh:message "InspectionExecution must occur after ConstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:or (                                     # Instant's chronological order - 2 Options
                    [
                        sh:path occp:after ;
                        sh:class occp:UsageStart ;
                        sh:message "Wrong assignment (chronological order) of Inspection Execution or Usage Start."@en ;
                        sh:severity sh:Violation ;
                    ]
                    [
                        sh:path occp:after ;
                        sh:class occp:UsageChange ;
                        sh:message "Wrong assignment (chronological order) of Inspection Execution or Usage Change."@en ;
                        sh:severity sh:Violation ;
                    ]
                ) ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "InspectionExecution must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:IrregularInspectionShape a sh:NodeShape ;    # Instant Irregular Inspection (Phase G - Inspection)
                sh:targetClass occp:IrregularInspection ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:UsageStart ;
                    sh:message "Wrong assignment (chronological order) of Irregular Inspection or Usage Start."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "IrregularInspection must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:NextRegularInspectionShape a sh:NodeShape ;  # Instant Next Regular Inspection (Phase G - Inspection)
                sh:targetClass occp:NextRegularInspection ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:InspectionExecution ;
                    sh:message "NextRegularInspection must occur after InspectionExecution."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:UsageStart ;
                    sh:message "Wrong assignment (chronological order) of Next Regular Inspection or Usage Start."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "NextRegularInspection must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

    ### PHASE H INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseHInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseH_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseH_SpecialEvents ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase H Instant must belong to exactly one Phase H (Special Events)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE H - SPECIAL EVENTS
            osh:GeologicalEventShape a sh:NodeShape ;        # Instant Geological Event (Phase H - Special Events)
                sh:targetClass occp:GeologicalEvent ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "GeologicalEvent must occur after Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "GeologicalEvent must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:LoadEventShape a sh:NodeShape ;              # Instant Load Event (Phase H - Special Events)
                sh:targetClass occp:LoadEvent ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "LoadEvent must occur after Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "LoadEvent must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] . 

            osh:WeatherEventShape a sh:NodeShape ;           # Instant Weather Event (Phase H - Special Events)
                sh:targetClass occp:WeatherEvent ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "WeatherEvent must occur after Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "WeatherEvent must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

    ### PHASE K INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseKInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseK_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseK_Damage ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase K Instant must belong to exactly one Phase K (Damage)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE K - DAMAGE
            osh:DamageDetectionShape a sh:NodeShape ;        # Instant Damage Detection (Phase K - Damage)
                sh:targetClass occp:DamageDetection ;
                sh:property [
                    sh:path occp:startsPhase ;
                    sh:class occp:PhaseK_Damage ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "DamageDetection must start exactly one Phase K (Damage)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ;
                    sh:message "DamageDetection must occur after Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "DamageDetection must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .
                
            osh:DamageObservationShape a sh:NodeShape ;      # Instant Damage Observation (Phase K - Damage)
                sh:targetClass occp:DamageObservation ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:DamageDetection ;
                    sh:message "DamageObservation must occur after DamageDetection."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "DamageObservation must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:DamageRepairShape a sh:NodeShape ;           # Instant Damage Repair (Phase K - Damage)
                sh:targetClass occp:DamageRepair ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:DamageDetection ;
                    sh:message "DamageRepair must occur after DamageDetection."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "DamageRepair must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

    ### PHASE L INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseLInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseL_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseL_Repair ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase L Instant must belong to exactly one Phase L (Repair)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE L - REPAIR
            osh:NewComponentShape a sh:NodeShape ;           # Instant New Component (Phase L - Repair)
                sh:targetClass occp:NewComponent ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:after ;
                    sh:class occp:ConstructionCompletion ;
                    sh:message "NewComponent must occur after ConstructionCompletion."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "NewComponent must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:RepairStartShape a sh:NodeShape ;            # Instant Repair Start (Phase L - Repair)
                sh:targetClass occp:RepairStart ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:startsPhase ;
                    sh:class occp:PhaseL_Repair ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "RepairStart must start exactly one Phase L (Repair)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:DamageDetection ;
                    sh:message "RepairStart must occur after DamageDetection."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:RepairCompletion ;
                    sh:message "RepairStart must occur before RepairCompletion."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "RepairStart must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:RepairCompletionShape a sh:NodeShape ;           # Instant Repair Completion (Phase L - Repair)
                sh:targetClass occp:RepairCompletion ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:endsPhase ;
                    sh:class occp:PhaseL_Repair ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "RepairCompletion must end exactly one Phase L (Repair)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:RepairStart ;
                    sh:message "RepairCompletion must occur after RepairStart."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "RepairCompletion must occur before DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .



    ### PHASE M INSTANTS
        # PHASE ASSIGNMENT
            osh:PhaseMInstantShape a sh:NodeShape ;
                sh:targetClass occp:PhaseM_Instant ;
                sh:property [
                    sh:path occp:hasPhase ;
                    sh:class occp:PhaseM_Deconstruction ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "Each Phase M Instant must belong to exactly one Phase M (Deconstruction)."@en ;
                    sh:severity sh:Violation ;
                ] .

        ### INSTANT SHAPES PHASE M - DECONSTRUCTION
            osh:DeconstructionStartShape a sh:NodeShape ;   # Instant Deconstruction Start (Phase M - Deconstruction)
                sh:targetClass occp:DeconstructionStart ;
                sh:targetClass occp:DeconstructionCompletion ;
                sh:property [                                # Instant's chronological order 
                    sh:path occp:startsPhase ;
                    sh:class occp:PhaseM_Deconstruction ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "DeconstructionStart must start exactly one Phase M (Deconstruction)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:ConstructionAcceptance ; ;
                    sh:message "DeconstructionStart must occur after Construction Acceptance."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:before ;
                    sh:class occp:DeconstructionCompletion ;
                    sh:message "DeconstructionStart must occur before DeconstructionCompletion."@en ;
                    sh:severity sh:Violation ;
                ] .

            osh:DeconstructionCompletionShape a sh:NodeShape ;   # Instant Deconstruction Completion (Phase M - Deconstruction)
                sh:property [                                # Instant's chronological order 
                    sh:path occp:endsPhase ;
                    sh:class occp:PhaseM_Deconstruction ;
                    sh:minCount 1 ;
                    sh:maxCount 1 ;
                    sh:message "DeconstructionCompletion must end exactly one Phase M (Deconstruction)."@en ;
                    sh:severity sh:Violation ;
                ] ;
                sh:property [
                    sh:path occp:after ;
                    sh:class occp:DeconstructionStart ;
                    sh:message "DeconstructionCompletion must occur after DeconstructionStart."@en ;
                    sh:severity sh:Violation ;
                ] .
