@prefix sh:    <http://www.w3.org/ns/shacl#> .
@prefix xsd:   <http://www.w3.org/2001/XMLSchema#> .
@prefix occp:  <http://www.semanticweb.org/albrechtvaatz/ontologies/2022/9/cMod_V0.1#> .
@prefix time:  <http://www.w3.org/2006/time#> .
@prefix osh:   <http://www.occpshape.de/shape#> .


osh:GeneralDatePropertyShape a sh:PropertyShape ;
    sh:path ( occp:hasActualTime occp:hasEstimatedTime ) ;
    sh:datatype xsd:date ;
    sh:message "The date must be in the format YYYY-MM-DD."@en ;
    sh:severity sh:Violation .

osh:GeneralTimeShape a sh:NodeShape ;
    sh:targetClass time:TemporalEntity ;
    sh:property [
        sh:path ( time:hasBeginning time:hasEnd ) ;
        sh:class time:Instant ;
        sh:minCount 1 ;
        sh:message "Property \'time:hasBeginning\' or \'time:hasEnd\' must refer to at least one \'time:Instant\'."@en ;
        sh:severity sh:Violation ;
    ] ;
    sh:property [
        sh:path occp:hasActualBeginning ;
        sh:class time:Instant ;
        sh:maxCount 1 ;
        sh:message "Property \'occp:hasActualBeginning\' must refer to at most one \'time:Instant\'."@en ;
        sh:severity sh:Violation ;
    ] ;
    sh:property [
        sh:path occp:hasActualEnd ;
        sh:class time:Instant ;
        sh:maxCount 1 ;
        sh:message "Property \'occp:hasActualEnd\' must refer to at most one \'time:Instant\'."@en ;
        sh:severity sh:Violation ;
    ] .

osh:InstantTimeShape a sh:NodeShape ;
    sh:targetClass time:Instant ;
    sh:property [
        sh:path occp:hasActualTime ;
        sh:datatype xsd:date ;
        sh:maxCount 1 ;
        sh:message "Property \'occp:hasActualTime\' must have at most one value of type xsd:date."@en ;
        sh:severity sh:Violation ;
    ] ;
    sh:property [
        sh:path occp:hasEstimatedTime ;
        sh:datatype xsd:date ;
        sh:message "Property \'occp:hasEstimatedTime\' must have values of type xsd:date."@en ;
        sh:severity sh:Violation ;
    ] .